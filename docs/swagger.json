{"openapi":"3.0.0","info":{"title":"Perpustakaan API","version":"1.0.0","description":"Documentation of Perpustakaan API"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer"}}},"paths":{"/api/v1/login/web":{"post":{"tags":["Auth"],"summary":"web login","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/definitions/WebLogin"}},"application/json":{"schema":{"$ref":"#/definitions/WebLogin"}}}},"responses":{"200":{"description":"login success"},"400":{"description":"invalid credentials"},"422":{"description":"some fields are invalid"}}}},"/api/v1/login/telegram":{"post":{"tags":["Auth"],"summary":"telegram login","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/definitions/TelegramLogin"}},"application/json":{"schema":{"$ref":"#/definitions/TelegramLogin"}}}},"responses":{"200":{"description":"login success"},"400":{"description":"invalid credentials"},"422":{"description":"some fields are invalid"}}}},"/api/v1/verification":{"post":{"tags":["Auth"],"summary":"verification","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/definitions/Verification"}},"application/json":{"schema":{"$ref":"#/definitions/Verification"}}}},"responses":{"200":{"description":"verification success"},"404":{"description":"invalid code or email"},"422":{"description":"some fields are invalid"}}}},"/api/v1/books":{"get":{"parameters":[{"in":"query","name":"title","type":"string","required":false,"description":"book title you are looking for"}],"security":[{"bearerAuth":[]}],"tags":["Books"],"summary":"get all books","responses":{"200":{"description":"success get books"},"401":{"description":"unauthorized"},"404":{"description":"no data found"}}},"post":{"security":[{"bearerAuth":[]}],"tags":["Books"],"summary":"store book data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Book"}},"application/json":{"schema":{"$ref":"#definitions/Book"}}}},"responses":{"201":{"description":"book created"},"401":{"description":"unauthorized"},"422":{"description":"some fields are invalid"}}}},"/api/v1/books/{id}":{"get":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"book id you want to show"}],"security":[{"bearerAuth":[]}],"tags":["Books"],"summary":"get book by id","responses":{"200":{"description":"success get book by id"},"401":{"description":"unauthorized"},"404":{"description":"book not found"}}},"put":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"book id you want to update"}],"security":[{"bearerAuth":[]}],"tags":["Books"],"summary":"update book data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Book"}},"application/json":{"schema":{"$ref":"#definitions/Book"}}}},"responses":{"200":{"description":"book updated"},"401":{"description":"unauthorized"},"404":{"description":"book not found"},"422":{"description":"some fields are invalid"}}},"delete":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"book id you want to delete"}],"security":[{"bearerAuth":[]}],"tags":["Books"],"summary":"delete book data","responses":{"200":{"description":"book deleted"},"401":{"description":"unauthorized"},"404":{"description":"book not found"}}}},"/api/v1/borrows":{"get":{"parameters":[{"in":"query","name":"date","type":"string","required":false,"description":"will return the borrow list in one month (YYYY-MM-DD)"}],"security":[{"bearerAuth":[]}],"tags":["Borrows"],"summary":"get all borrows","responses":{"200":{"description":"success get borrows"},"401":{"description":"unauthorized"},"404":{"description":"no data found"}}},"post":{"security":[{"bearerAuth":[]}],"tags":["Borrows"],"summary":"store borrow data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Borrow"}},"application/json":{"schema":{"$ref":"#definitions/Borrow"}}}},"responses":{"201":{"description":"borrow created"},"401":{"description":"unauthorized"},"422":{"description":"some fields are invalid"}}}},"/api/v1/borrows/{id}":{"get":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"borrow id you want to show"}],"security":[{"bearerAuth":[]}],"tags":["Borrows"],"summary":"get borrow by id","responses":{"200":{"description":"success get borrow by id"},"401":{"description":"unauthorized"},"404":{"description":"borrow not found"}}},"put":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"borrow id you want to update"}],"security":[{"bearerAuth":[]}],"tags":["Borrows"],"summary":"update borrow data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Borrow"}},"application/json":{"schema":{"$ref":"#definitions/Borrow"}}}},"responses":{"200":{"description":"borrow updated"},"401":{"description":"unauthorized"},"404":{"description":"borrow not found"},"422":{"description":"some fields are invalid"}}},"delete":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"borrow id you want to delete"}],"security":[{"bearerAuth":[]}],"tags":["Borrows"],"summary":"delete borrow data","responses":{"200":{"description":"borrow deleted"},"401":{"description":"unauthorized"},"404":{"description":"borrow not found"}}}},"/api/v1/categories":{"get":{"security":[{"bearerAuth":[]}],"tags":["Categories"],"summary":"get all categories","responses":{"200":{"description":"success get categories"},"401":{"description":"unauthorized"},"404":{"description":"no data found"}}},"post":{"security":[{"bearerAuth":[]}],"tags":["Categories"],"summary":"store category data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Category"}},"application/json":{"schema":{"$ref":"#definitions/Category"}}}},"responses":{"201":{"description":"category created"},"401":{"description":"unauthorized"},"422":{"description":"some fields are invalid"}}}},"/api/v1/categories/{id}":{"get":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"category id you want to show"}],"security":[{"bearerAuth":[]}],"tags":["Categories"],"summary":"get category by id","responses":{"200":{"description":"success get category by id"},"401":{"description":"unauthorized"},"404":{"description":"category not found"}}},"put":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"category id you want to update"}],"security":[{"bearerAuth":[]}],"tags":["Categories"],"summary":"update category data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Category"}},"application/json":{"schema":{"$ref":"#definitions/Category"}}}},"responses":{"200":{"description":"category updated"},"401":{"description":"unauthorized"},"404":{"description":"category not found"},"422":{"description":"some fields are invalid"}}},"delete":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"category id you want to delete"}],"security":[{"bearerAuth":[]}],"tags":["Categories"],"summary":"delete category data","responses":{"200":{"description":"category deleted"},"401":{"description":"unauthorized"},"404":{"description":"category not found"}}}},"/api/v1/employees":{"get":{"security":[{"bearerAuth":[]}],"tags":["Employees"],"summary":"get all employees","responses":{"200":{"description":"success get employees"},"401":{"description":"unauthorized"},"404":{"description":"no data found"}}},"post":{"security":[{"bearerAuth":[]}],"tags":["Employees"],"summary":"store employee data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/EmployeeStore"}},"application/json":{"schema":{"$ref":"#definitions/EmployeeStore"}}}},"responses":{"201":{"description":"employee created"},"400":{"description":"database error"},"401":{"description":"unauthorized"},"422":{"description":"some fields are invalid"}}}},"/api/v1/employees/{id}":{"get":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"employee id you want to show"}],"security":[{"bearerAuth":[]}],"tags":["Employees"],"summary":"get employee by id","responses":{"200":{"description":"success get employee by id"},"401":{"description":"unauthorized"},"404":{"description":"employee not found"}}},"put":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"employee id you want to update"}],"security":[{"bearerAuth":[]}],"tags":["Employees"],"summary":"update employee data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/EmployeeUpdate"}},"application/json":{"schema":{"$ref":"#definitions/EmployeeUpdate"}}}},"responses":{"200":{"description":"employee updated"},"400":{"description":"database error"},"401":{"description":"unauthorized"},"404":{"description":"employee not found"},"422":{"description":"some fields are invalid"}}},"delete":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"employee id you want to delete"}],"security":[{"bearerAuth":[]}],"tags":["Employees"],"summary":"delete employee data","responses":{"200":{"description":"employee deleted"},"401":{"description":"unauthorized"},"404":{"description":"employee not found"}}}},"/api/v1/members":{"get":{"security":[{"bearerAuth":[]}],"tags":["Members"],"summary":"get all members","responses":{"200":{"description":"success get members"},"401":{"description":"unauthorized"},"404":{"description":"no data found"}}},"post":{"tags":["Members"],"summary":"store member data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/MemberStore"}},"application/json":{"schema":{"$ref":"#definitions/MemberStore"}}}},"responses":{"201":{"description":"member created"},"400":{"description":"database error"},"401":{"description":"unauthorized"},"422":{"description":"some fields are invalid"}}}},"/api/v1/members/{id}":{"get":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"member id you want to show"}],"security":[{"bearerAuth":[]}],"tags":["Members"],"summary":"get member by id","responses":{"200":{"description":"success get member by id"},"401":{"description":"unauthorized"},"404":{"description":"member not found"}}},"put":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"member id you want to update"}],"security":[{"bearerAuth":[]}],"tags":["Members"],"summary":"update member data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/MemberUpdate"}},"application/json":{"schema":{"$ref":"#definitions/MemberUpdate"}}}},"responses":{"200":{"description":"member updated"},"400":{"description":"database error"},"401":{"description":"unauthorized"},"404":{"description":"member not found"},"422":{"description":"some fields are invalid"}}},"delete":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"member id you want to delete"}],"security":[{"bearerAuth":[]}],"tags":["Members"],"summary":"delete member data","responses":{"200":{"description":"member deleted"},"401":{"description":"unauthorized"},"404":{"description":"member not found"}}}},"/api/v1/members/{id}/borrows":{"get":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"member id you want to show"},{"in":"query","name":"return_date","type":"string","required":false,"description":"return date of borrow (YYYY-MM-DD)"}],"security":[{"bearerAuth":[]}],"tags":["Members"],"summary":"get member borrows","responses":{"200":{"description":"success get member borrows"},"401":{"description":"unauthorized"},"404":{"description":"member or borrows not found"}}}},"/api/v1/publishers":{"get":{"security":[{"bearerAuth":[]}],"tags":["Publishers"],"summary":"get all publishers","responses":{"200":{"description":"success get publishers"},"401":{"description":"unauthorized"},"404":{"description":"no data found"}}},"post":{"security":[{"bearerAuth":[]}],"tags":["Publishers"],"summary":"store publisher data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Publisher"}},"application/json":{"schema":{"$ref":"#definitions/Publisher"}}}},"responses":{"201":{"description":"publisher created"},"401":{"description":"unauthorized"},"422":{"description":"some fields are invalid"}}}},"/api/v1/publishers/{id}":{"get":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"publisher id you want to show"}],"security":[{"bearerAuth":[]}],"tags":["Publishers"],"summary":"get publisher by id","responses":{"200":{"description":"success get publisher by id"},"401":{"description":"unauthorized"},"404":{"description":"publisher not found"}}},"put":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"publisher id you want to update"}],"security":[{"bearerAuth":[]}],"tags":["Publishers"],"summary":"update publisher data","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Publisher"}},"application/json":{"schema":{"$ref":"#definitions/Publisher"}}}},"responses":{"200":{"description":"publisher updated"},"401":{"description":"unauthorized"},"404":{"description":"publisher not found"},"422":{"description":"some fields are invalid"}}},"delete":{"parameters":[{"in":"path","name":"id","type":"integer","required":true,"description":"publisher id you want to delete"}],"security":[{"bearerAuth":[]}],"tags":["Publishers"],"summary":"delete publisher data","responses":{"200":{"description":"publisher deleted"},"401":{"description":"unauthorized"},"404":{"description":"publisher not found"}}}}},"definitions":{"Book":{"type":"object","properties":{"title":{"type":"string","description":"book title"},"description":{"type":"string","description":"book description"},"year":{"type":"integer","description":"publication year"},"author":{"type":"string","description":"author name"},"qty":{"type":"integer","description":"book quantity"},"page":{"type":"integer","description":"book page"},"category_id":{"type":"integer","description":"category id"},"publisher_id":{"type":"integer","description":"publisher id"}},"required":["title","description","year","author","qty","page","category_id","publisher_id"]},"Borrow":{"type":"object","properties":{"book_id":{"type":"integer","description":"book id"},"member_id":{"type":"integer","description":"member id"},"borrow_date":{"type":"date","description":"borrow date"},"return_date":{"type":"date","description":"return date"},"status":{"type":"boolean","description":"borrow status"}},"required":["book_id","member_id","borrow_date","return_date"]},"Category":{"type":"object","properties":{"name":{"type":"string","description":"category name"}},"required":["name"]},"EmployeeStore":{"type":"object","properties":{"email":{"type":"string","description":"employee email"},"password":{"type":"string","description":"password"},"password_confirmation":{"type":"string","description":"password confirmation"},"name":{"type":"string","description":"employee name"},"address":{"type":"string","description":"employee address"},"phone":{"type":"string","description":"employee phone"},"image":{"type":"string","description":"employee image"},"telegram_id":{"type":"string","description":"employee telegram id"},"role":{"type":"string","description":"can be filled with employee or admin"}},"required":["email","password","password_confirmation","name","address","phone"]},"EmployeeUpdate":{"type":"object","properties":{"email":{"type":"string","description":"employee email"},"password":{"type":"string","description":"password"},"password_confirmation":{"type":"string","description":"password confirmation"},"name":{"type":"string","description":"employee name"},"address":{"type":"string","description":"employee address"},"phone":{"type":"string","description":"employee phone"},"image":{"type":"string","description":"employee image"},"telegram_id":{"type":"string","description":"employee telegram id"},"role":{"type":"string","description":"can be filled with employee or admin"}},"required":["email","name","address","phone"]},"MemberStore":{"type":"object","properties":{"email":{"type":"string","description":"member email"},"password":{"type":"string","description":"password"},"password_confirmation":{"type":"string","description":"password confirmation"},"name":{"type":"string","description":"member name"},"address":{"type":"string","description":"member address"},"phone":{"type":"string","description":"member phone"},"image":{"type":"string","description":"member image"},"telegram_id":{"type":"string","description":"member telegram id"}},"required":["email","name","address","phone"]},"MemberUpdate":{"type":"object","properties":{"email":{"type":"string","description":"member email"},"password":{"type":"string","description":"password"},"password_confirmation":{"type":"string","description":"member confirmation"},"name":{"type":"string","description":"member name"},"address":{"type":"string","description":"member address"},"phone":{"type":"string","description":"member phone"},"image":{"type":"string","description":"member image"},"telegram_id":{"type":"string","description":"member telegram id"}},"required":["email","name","address","phone"]},"Publisher":{"type":"object","properties":{"name":{"type":"string","description":"publisher name"},"address":{"type":"string","description":"publisher address"},"phone":{"type":"string","description":"publisher phone"}},"required":["name","address","phone"]},"TelegramLogin":{"type":"object","properties":{"telegram_id":{"type":"integer","description":"registered telegram id"}},"required":["telegram_id"]},"Verification":{"type":"object","properties":{"email":{"type":"string","description":"registered email"},"code":{"type":"string","description":"verification code"}},"required":["email","code"]},"WebLogin":{"type":"object","properties":{"email":{"type":"string","description":"registered email"},"password":{"type":"string","description":"registered password"}},"required":["email","password"]}},"tags":[]}
